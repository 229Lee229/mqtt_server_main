#ifndef __CORE_DELAY_H
#define __CORE_DELAY_H

#include "stm32f10x.h"

#define USE_DWT_DELAY			1	/* ??dwt?????? */

#if USE_DWT_DELAY
#define USE_TICK_DELAY		0		/* ???SysTick?? */
#else
#define USE_TICK_DELAY		1		/* ??SysTick?? */
#endif


/*??????*/
#define TASK_ENABLE 0
#define NumOfTask 3


#if USE_DWT_DELAY

#define Delay_ms(ms)  	CPU_TS_Tmr_Delay_MS(ms)
#define Delay_us(us)  	CPU_TS_Tmr_Delay_US(us)
/* ???? 60s=2?32??/72000000 */
#define Delay_s(s)  	  CPU_TS_Tmr_Delay_S(s)

/* ???????? */
#define GET_CPU_ClkFreq()       (SystemCoreClock)
#define SysClockFreq            (SystemCoreClock)
/* ?????,?????????CPU_TS_TmrInit???????????,
   ????????????????
   ???????0,???main????????CPU_TS_TmrInit????????? */  

#define CPU_TS_INIT_IN_DELAY_FUNCTION   0


/*******************************************************************************
 * 							????
 ******************************************************************************/
uint32_t CPU_TS_TmrRd(void);
void CPU_TS_TmrInit(void);

//????????????CPU_TS_TmrInit???????,????CPU_TS_INIT_IN_DELAY_FUNCTION
//??????60?
void CPU_TS_Tmr_Delay_US(uint32_t us);
#define CPU_TS_Tmr_Delay_MS(ms)     CPU_TS_Tmr_Delay_US(ms*1000)
#define CPU_TS_Tmr_Delay_S(s)       CPU_TS_Tmr_Delay_MS(s*1000)

#endif

#endif /* __CORE_DELAY_H */
